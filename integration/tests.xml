<?xml version="1.0" encoding="UTF-8"?>
<con:soapui-project activeEnvironment="Default" name="IntegrationTest" soapui-version="5.0.0" abortOnError="false" runType="SEQUENTIAL" resourceRoot="" xmlns:con="http://eviware.com/soapui/config"><con:settings/><con:interface xsi:type="con:WsdlInterface" wsaVersion="NONE" name="MisterDiscountServiceServiceSoapBinding" type="wsdl" bindingName="{http://services.integration.groupe.polytech.unice.fr/}MisterDiscountServiceServiceSoapBinding" soapVersion="1_1" anonymous="optional" definition="http://localhost:8081/MD/MisterDiscountService?wsdl" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart="http://localhost:8081/MD/MisterDiscountService?wsdl"><con:part><con:url>http://localhost:8081/MD/MisterDiscountService?wsdl</con:url><con:content><![CDATA[<wsdl:definitions name="MisterDiscountServiceService" targetNamespace="http://services.integration.groupe.polytech.unice.fr/" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/" xmlns:tns="http://services.integration.groupe.polytech.unice.fr/" xmlns:soap="http://schemas.xmlsoap.org/wsdl/soap/" xmlns:ns1="http://schemas.xmlsoap.org/soap/http">
  <wsdl:types>
    <xs:schema attributeFormDefault="unqualified" elementFormDefault="unqualified" targetNamespace="http://services.integration.groupe.polytech.unice.fr/" xmlns:xs="http://www.w3.org/2001/XMLSchema">
      <xs:element name="createOrder" type="tns:createOrder"/>
      <xs:element name="createOrderResponse" type="tns:createOrderResponse"/>
      <xs:element name="getOrderInfo" type="tns:getOrderInfo"/>
      <xs:element name="getOrderInfoResponse" type="tns:getOrderInfoResponse"/>
      <xs:complexType name="createOrder">
        <xs:sequence>
          <xs:element minOccurs="0" name="order" type="tns:orderInput"/>
        </xs:sequence>
      </xs:complexType>
      <xs:complexType name="orderInput">
        <xs:sequence>
          <xs:element name="cardNumber" type="xs:string"/>
          <xs:element name="invoiceAddress" type="tns:address"/>
          <xs:element name="name" type="xs:string"/>
          <xs:element name="products">
            <xs:complexType>
              <xs:sequence>
                <xs:element maxOccurs="unbounded" minOccurs="0" name="entry">
                  <xs:complexType>
                    <xs:sequence>
                      <xs:element minOccurs="0" name="key" type="xs:string"/>
                      <xs:element minOccurs="0" name="value" type="xs:int"/>
                    </xs:sequence>
                  </xs:complexType>
                </xs:element>
              </xs:sequence>
            </xs:complexType>
          </xs:element>
          <xs:element name="shippingAddress" type="tns:address"/>
        </xs:sequence>
      </xs:complexType>
      <xs:complexType name="address">
        <xs:sequence>
          <xs:element name="line1" type="xs:string"/>
          <xs:element minOccurs="0" name="line2" type="xs:string"/>
          <xs:element name="city" type="xs:string"/>
          <xs:element name="country" type="xs:string"/>
          <xs:element minOccurs="0" name="kind" type="tns:kind"/>
          <xs:element name="zip" type="xs:string"/>
        </xs:sequence>
      </xs:complexType>
      <xs:complexType name="createOrderResponse">
        <xs:sequence>
          <xs:element minOccurs="0" name="receipt" type="tns:receipt"/>
        </xs:sequence>
      </xs:complexType>
      <xs:complexType name="receipt">
        <xs:sequence>
          <xs:element name="deliveryPrice" type="xs:double"/>
          <xs:element minOccurs="0" name="estimationDate" type="xs:dateTime"/>
          <xs:element maxOccurs="unbounded" minOccurs="0" name="itemList" nillable="true" type="tns:item"/>
          <xs:element minOccurs="0" name="name" type="xs:string"/>
          <xs:element minOccurs="0" name="orderId" type="xs:string"/>
          <xs:element name="price" type="xs:double"/>
          <xs:element minOccurs="0" name="shippingAddress" type="tns:address"/>
          <xs:element minOccurs="0" name="status" type="tns:status"/>
          <xs:element name="totalPrice" type="xs:double"/>
          <xs:element minOccurs="0" name="trackingNumber" type="xs:string"/>
        </xs:sequence>
      </xs:complexType>
      <xs:complexType name="item">
        <xs:sequence>
          <xs:element minOccurs="0" name="key" type="xs:string"/>
          <xs:element minOccurs="0" name="name" type="xs:string"/>
          <xs:element name="quantity" type="xs:int"/>
          <xs:element name="unitaryPrice" type="xs:double"/>
        </xs:sequence>
      </xs:complexType>
      <xs:complexType name="getOrderInfo">
        <xs:sequence>
          <xs:element minOccurs="0" name="orderId" type="xs:string"/>
        </xs:sequence>
      </xs:complexType>
      <xs:complexType name="getOrderInfoResponse">
        <xs:sequence>
          <xs:element minOccurs="0" name="receipt" type="tns:receipt"/>
        </xs:sequence>
      </xs:complexType>
      <xs:simpleType name="kind">
        <xs:restriction base="xs:string">
          <xs:enumeration value="PERSONAL"/>
          <xs:enumeration value="PROFESSIONNAL"/>
        </xs:restriction>
      </xs:simpleType>
      <xs:simpleType name="status">
        <xs:restriction base="xs:string">
          <xs:enumeration value="PROCESSING"/>
          <xs:enumeration value="APPROVED"/>
          <xs:enumeration value="DECLINED"/>
        </xs:restriction>
      </xs:simpleType>
      <xs:element name="unknownOrder" type="tns:unknownOrder"/>
      <xs:complexType name="unknownOrder">
        <xs:sequence/>
      </xs:complexType>
    </xs:schema>
  </wsdl:types>
  <wsdl:message name="getOrderInfoResponse">
    <wsdl:part element="tns:getOrderInfoResponse" name="parameters"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="UnknownOrderException">
    <wsdl:part element="tns:unknownOrder" name="UnknownOrderException"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="createOrder">
    <wsdl:part element="tns:createOrder" name="parameters"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="createOrderResponse">
    <wsdl:part element="tns:createOrderResponse" name="parameters"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="getOrderInfo">
    <wsdl:part element="tns:getOrderInfo" name="parameters"></wsdl:part>
  </wsdl:message>
  <wsdl:portType name="MisterDiscountService">
    <wsdl:operation name="createOrder">
      <wsdl:input message="tns:createOrder" name="createOrder"></wsdl:input>
      <wsdl:output message="tns:createOrderResponse" name="createOrderResponse"></wsdl:output>
    </wsdl:operation>
    <wsdl:operation name="getOrderInfo">
      <wsdl:input message="tns:getOrderInfo" name="getOrderInfo"></wsdl:input>
      <wsdl:output message="tns:getOrderInfoResponse" name="getOrderInfoResponse"></wsdl:output>
      <wsdl:fault message="tns:UnknownOrderException" name="UnknownOrderException"></wsdl:fault>
    </wsdl:operation>
  </wsdl:portType>
  <wsdl:binding name="MisterDiscountServiceServiceSoapBinding" type="tns:MisterDiscountService">
    <soap:binding style="document" transport="http://schemas.xmlsoap.org/soap/http"/>
    <wsdl:operation name="createOrder">
      <soap:operation soapAction="" style="document"/>
      <wsdl:input name="createOrder">
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output name="createOrderResponse">
        <soap:body use="literal"/>
      </wsdl:output>
    </wsdl:operation>
    <wsdl:operation name="getOrderInfo">
      <soap:operation soapAction="" style="document"/>
      <wsdl:input name="getOrderInfo">
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output name="getOrderInfoResponse">
        <soap:body use="literal"/>
      </wsdl:output>
      <wsdl:fault name="UnknownOrderException">
        <soap:fault name="UnknownOrderException" use="literal"/>
      </wsdl:fault>
    </wsdl:operation>
  </wsdl:binding>
  <wsdl:service name="MisterDiscountServiceService">
    <wsdl:port binding="tns:MisterDiscountServiceServiceSoapBinding" name="MisterDiscountServicePort">
      <soap:address location="http://localhost:8081/MD/MisterDiscountService"/>
    </wsdl:port>
  </wsdl:service>
</wsdl:definitions>]]></con:content><con:type>http://schemas.xmlsoap.org/wsdl/</con:type></con:part></con:definitionCache><con:endpoints><con:endpoint>http://localhost:8081/MD/MisterDiscountService</con:endpoint></con:endpoints><con:operation isOneWay="false" action="" name="createOrder" bindingOperationName="createOrder" type="Request-Response" outputName="createOrderResponse" inputName="createOrder" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call name="Request 1"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8081/MD/MisterDiscountService</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:ser="http://services.integration.groupe.polytech.unice.fr/">
   <soapenv:Header/>
   <soapenv:Body>
      <ser:createOrder>
         <!--Optional:-->
         <order>
            <cardNumber>123456890098765</cardNumber>
            <invoiceAddress>
               <line1>AA</line1>
               <line2>BB</line2>
               <city>FF</city>
               <country>RT</country>
               <!--Optional:-->
               <kind>PERSONAL</kind>
               <zip>2235</zip>
            </invoiceAddress>
            <name>Ad;zp</name>
            <products>
               <!--Zero or more repetitions:-->
               <entry>
                  <key>M9H5AP9UB56GZ6U</key>
                  <value>5</value>
               </entry>
            </products>
            <shippingAddress>
               <line1>AA</line1>
               <line2>BB</line2>
               <city>FF</city>
               <country>RT</country>
               <!--Optional:-->
               <kind>PERSONAL</kind>
               <zip>2235</zip>
            </shippingAddress>
         </order>
      </ser:createOrder>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://services.integration.groupe.polytech.unice.fr/MisterDiscountService/createOrder"/><con:wsrmConfig version="1.2"/></con:call></con:operation><con:operation isOneWay="false" action="" name="getOrderInfo" bindingOperationName="getOrderInfo" type="Request-Response" outputName="getOrderInfoResponse" inputName="getOrderInfo" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call name="Request 1"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8081/MD/MisterDiscountService</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:ser="http://services.integration.groupe.polytech.unice.fr/">
   <soapenv:Header/>
   <soapenv:Body>
      <ser:getOrderInfo>
         <!--Optional:-->
         <orderId>null</orderId>
      </ser:getOrderInfo>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://services.integration.groupe.polytech.unice.fr/MisterDiscountService/getOrderInfo"/><con:wsrmConfig version="1.2"/></con:call></con:operation></con:interface><con:interface xsi:type="con:WsdlInterface" wsaVersion="NONE" name="InternalServiceServiceSoapBinding" type="wsdl" bindingName="{http://services.integration.groupe.polytech.unice.fr/}InternalServiceServiceSoapBinding" soapVersion="1_1" anonymous="optional" definition="http://localhost:8081/internal/MisterDiscountInternalService?wsdl" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart="http://localhost:8081/internal/MisterDiscountInternalService?wsdl"><con:part><con:url>http://localhost:8081/internal/MisterDiscountInternalService?wsdl</con:url><con:content><![CDATA[<wsdl:definitions name="InternalServiceService" targetNamespace="http://services.integration.groupe.polytech.unice.fr/" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/" xmlns:tns="http://services.integration.groupe.polytech.unice.fr/" xmlns:soap="http://schemas.xmlsoap.org/wsdl/soap/" xmlns:ns1="http://schemas.xmlsoap.org/soap/http">
  <wsdl:types>
    <xs:schema elementFormDefault="unqualified" targetNamespace="http://services.integration.groupe.polytech.unice.fr/" version="1.0" xmlns:xs="http://www.w3.org/2001/XMLSchema">
      <xs:element name="orderCatalogues" type="tns:orderCatalogues"/>
      <xs:element name="orderCataloguesResponse" type="tns:orderCataloguesResponse"/>
      <xs:element name="registerForCatalogue" type="tns:registerForCatalogue"/>
      <xs:element name="registerForCatalogueResponse" type="tns:registerForCatalogueResponse"/>
      <xs:element name="sendCatalogues" type="tns:sendCatalogues"/>
      <xs:element name="sendCataloguesResponse" type="tns:sendCataloguesResponse"/>
      <xs:complexType name="sendCatalogues">
        <xs:sequence/>
      </xs:complexType>
      <xs:complexType name="sendCataloguesResponse">
        <xs:sequence>
          <xs:element name="number" type="xs:int"/>
        </xs:sequence>
      </xs:complexType>
      <xs:complexType name="registerForCatalogue">
        <xs:sequence>
          <xs:element minOccurs="0" name="data" type="tns:catalogueRegistry"/>
        </xs:sequence>
      </xs:complexType>
      <xs:complexType name="catalogueRegistry">
        <xs:sequence>
          <xs:element name="address" type="tns:address"/>
          <xs:element name="name" type="xs:string"/>
        </xs:sequence>
      </xs:complexType>
      <xs:complexType name="address">
        <xs:sequence>
          <xs:element name="line1" type="xs:string"/>
          <xs:element minOccurs="0" name="line2" type="xs:string"/>
          <xs:element name="city" type="xs:string"/>
          <xs:element name="country" type="xs:string"/>
          <xs:element minOccurs="0" name="kind" type="tns:kind"/>
          <xs:element name="zip" type="xs:string"/>
        </xs:sequence>
      </xs:complexType>
      <xs:complexType name="registerForCatalogueResponse">
        <xs:sequence>
          <xs:element name="done" type="xs:boolean"/>
        </xs:sequence>
      </xs:complexType>
      <xs:complexType name="orderCatalogues">
        <xs:sequence/>
      </xs:complexType>
      <xs:complexType name="orderCataloguesResponse">
        <xs:sequence>
          <xs:element name="number" type="xs:int"/>
        </xs:sequence>
      </xs:complexType>
      <xs:simpleType name="kind">
        <xs:restriction base="xs:string">
          <xs:enumeration value="PERSONAL"/>
          <xs:enumeration value="PROFESSIONNAL"/>
        </xs:restriction>
      </xs:simpleType>
    </xs:schema>
  </wsdl:types>
  <wsdl:message name="registerForCatalogue">
    <wsdl:part element="tns:registerForCatalogue" name="parameters"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="registerForCatalogueResponse">
    <wsdl:part element="tns:registerForCatalogueResponse" name="parameters"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="orderCatalogues">
    <wsdl:part element="tns:orderCatalogues" name="parameters"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="orderCataloguesResponse">
    <wsdl:part element="tns:orderCataloguesResponse" name="parameters"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="sendCatalogues">
    <wsdl:part element="tns:sendCatalogues" name="parameters"></wsdl:part>
  </wsdl:message>
  <wsdl:message name="sendCataloguesResponse">
    <wsdl:part element="tns:sendCataloguesResponse" name="parameters"></wsdl:part>
  </wsdl:message>
  <wsdl:portType name="MisterDiscountInternalService">
    <wsdl:operation name="sendCatalogues">
      <wsdl:input message="tns:sendCatalogues" name="sendCatalogues"></wsdl:input>
      <wsdl:output message="tns:sendCataloguesResponse" name="sendCataloguesResponse"></wsdl:output>
    </wsdl:operation>
    <wsdl:operation name="registerForCatalogue">
      <wsdl:input message="tns:registerForCatalogue" name="registerForCatalogue"></wsdl:input>
      <wsdl:output message="tns:registerForCatalogueResponse" name="registerForCatalogueResponse"></wsdl:output>
    </wsdl:operation>
    <wsdl:operation name="orderCatalogues">
      <wsdl:input message="tns:orderCatalogues" name="orderCatalogues"></wsdl:input>
      <wsdl:output message="tns:orderCataloguesResponse" name="orderCataloguesResponse"></wsdl:output>
    </wsdl:operation>
  </wsdl:portType>
  <wsdl:binding name="InternalServiceServiceSoapBinding" type="tns:MisterDiscountInternalService">
    <soap:binding style="document" transport="http://schemas.xmlsoap.org/soap/http"/>
    <wsdl:operation name="sendCatalogues">
      <soap:operation soapAction="" style="document"/>
      <wsdl:input name="sendCatalogues">
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output name="sendCataloguesResponse">
        <soap:body use="literal"/>
      </wsdl:output>
    </wsdl:operation>
    <wsdl:operation name="registerForCatalogue">
      <soap:operation soapAction="" style="document"/>
      <wsdl:input name="registerForCatalogue">
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output name="registerForCatalogueResponse">
        <soap:body use="literal"/>
      </wsdl:output>
    </wsdl:operation>
    <wsdl:operation name="orderCatalogues">
      <soap:operation soapAction="" style="document"/>
      <wsdl:input name="orderCatalogues">
        <soap:body use="literal"/>
      </wsdl:input>
      <wsdl:output name="orderCataloguesResponse">
        <soap:body use="literal"/>
      </wsdl:output>
    </wsdl:operation>
  </wsdl:binding>
  <wsdl:service name="InternalServiceService">
    <wsdl:port binding="tns:InternalServiceServiceSoapBinding" name="MisterDiscountInternalServicePort">
      <soap:address location="http://localhost:8081/internal/MisterDiscountInternalService"/>
    </wsdl:port>
  </wsdl:service>
</wsdl:definitions>]]></con:content><con:type>http://schemas.xmlsoap.org/wsdl/</con:type></con:part></con:definitionCache><con:endpoints><con:endpoint>http://localhost:8081/internal/MisterDiscountInternalService</con:endpoint></con:endpoints><con:operation isOneWay="false" action="" name="registerForCatalogue" bindingOperationName="registerForCatalogue" type="Request-Response" outputName="registerForCatalogueResponse" inputName="registerForCatalogue" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8081/internal/MisterDiscountInternalService</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:ser="http://services.integration.groupe.polytech.unice.fr/">
   <soapenv:Header/>
   <soapenv:Body>
      <ser:registerForCatalogue>
         <!--Optional:-->
         <data>
            <!--Optional:-->
            <deliveryAddress>
               <!--Optional:-->
               <addressLine1>?</addressLine1>
               <!--Optional:-->
               <addressLine2>?</addressLine2>
               <!--Optional:-->
               <cityName>?</cityName>
               <!--Optional:-->
               <countryCode>?</countryCode>
               <!--Optional:-->
               <kind>?</kind>
               <!--Optional:-->
               <zipCode>?</zipCode>
            </deliveryAddress>
            <!--Optional:-->
            <name>?</name>
         </data>
      </ser:registerForCatalogue>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://services.integration.groupe.polytech.unice.fr/MisterDiscountInternalService/registerForCatalogue"/></con:call></con:operation><con:operation isOneWay="false" action="" name="sendCatalogues" bindingOperationName="sendCatalogues" type="Request-Response" outputName="sendCataloguesResponse" inputName="sendCatalogues" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8081/internal/MisterDiscountInternalService</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:ser="http://services.integration.groupe.polytech.unice.fr/">
   <soapenv:Header/>
   <soapenv:Body>
      <ser:sendCatalogues/>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://services.integration.groupe.polytech.unice.fr/MisterDiscountInternalService/sendCatalogues"/></con:call></con:operation><con:operation isOneWay="false" action="" name="orderCatalogues" bindingOperationName="orderCatalogues" type="Request-Response" outputName="orderCataloguesResponse" inputName="orderCatalogues" receivesAttachments="false" sendsAttachments="false" anonymous="optional"><con:settings/><con:call name="Request 1"><con:settings/><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8081/internal/MisterDiscountInternalService</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:ser="http://services.integration.groupe.polytech.unice.fr/">
   <soapenv:Header/>
   <soapenv:Body>
      <ser:orderCatalogues/>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:wsaConfig mustUnderstand="NONE" version="200508" action="http://services.integration.groupe.polytech.unice.fr/MisterDiscountInternalService/orderCatalogues"/></con:call></con:operation></con:interface><con:testSuite name="Catalogue TestSuite"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="envoi catalogues" searchProperties="true" id="dd90c523-3a85-4b84-bb8a-4c20fbac0ee4"><con:settings/><con:testStep type="httprequest" name="create DB"><con:settings/><con:config method="GET" xsi:type="con:HttpRequest" name="create DB" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>http://localhost:8081/admin/init</con:endpoint><con:request/><con:assertion type="Valid HTTP Status Codes" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:config></con:testStep><con:testStep type="request" name="enregistrement 1"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>InternalServiceServiceSoapBinding</con:interface><con:operation>registerForCatalogue</con:operation><con:request name="enregistrement 1"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8081/internal/MisterDiscountInternalService</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:ser="http://services.integration.groupe.polytech.unice.fr/">
   <soapenv:Header/>
   <soapenv:Body>
      <ser:registerForCatalogue>
         <!--Optional:-->
         <data>
            <address>
               <line1>beuh</line1>
               <line2>beuh</line2>
               <city>pouit</city>
               <country>pouit</country>
               <zip>2143</zip>
            </address>
            <name>Moka</name>
         </data>
      </ser:registerForCatalogue>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Fault Assertion" name="Not SOAP Fault"/><con:assertion type="Schema Compliance" name="Schema Compliance"><con:configuration><definition/></con:configuration></con:assertion><con:assertion type="SOAP Response" name="SOAP Response"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig action="http://services.integration.groupe.polytech.unice.fr/MisterDiscountInternalService/registerForCatalogue" mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" name="enregistrement 2"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>InternalServiceServiceSoapBinding</con:interface><con:operation>registerForCatalogue</con:operation><con:request name="enregistrement 2"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8081/internal/MisterDiscountInternalService</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:ser="http://services.integration.groupe.polytech.unice.fr/">
   <soapenv:Header/>
   <soapenv:Body>
      <ser:registerForCatalogue>
      <data>
            <address>
               <line1>beuh</line1>
               <line2>beuh</line2>
               <city>pouit</city>
               <country>pouit</country>
               <zip>2143</zip>
            </address>
            <name>POUIT</name>
         </data>
      </ser:registerForCatalogue>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response"/><con:assertion type="Schema Compliance" name="Schema Compliance"><con:configuration><definition/></con:configuration></con:assertion><con:assertion type="SOAP Fault Assertion" name="Not SOAP Fault"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" name="commande à l'imprimeur"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>InternalServiceServiceSoapBinding</con:interface><con:operation>orderCatalogues</con:operation><con:request name="commande à l'imprimeur"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8081/internal/MisterDiscountInternalService</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:ser="http://services.integration.groupe.polytech.unice.fr/">
   <soapenv:Header/>
   <soapenv:Body>
      <ser:orderCatalogues/>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response"/><con:assertion type="Schema Compliance"><con:configuration/></con:assertion><con:assertion type="SOAP Fault Assertion"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="transfer" name="get nb commandes"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>nbCommandes</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>commande à l'imprimeur</con:sourceStep><con:sourcePath>//number</con:sourcePath><con:targetType>nbCommandes</con:targetType><con:targetStep>#TestCase#</con:targetStep></con:transfers></con:config></con:testStep><con:testStep type="request" name="enregistrement 3"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>InternalServiceServiceSoapBinding</con:interface><con:operation>registerForCatalogue</con:operation><con:request name="enregistrement 3"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8081/internal/MisterDiscountInternalService</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:ser="http://services.integration.groupe.polytech.unice.fr/">
   <soapenv:Header/>
   <soapenv:Body>
      <ser:registerForCatalogue>
      <data>
            <address>
               <line1>beuh</line1>
               <line2>beuh</line2>
               <city>pouit</city>
               <country>pouit</country>
               <zip>2143</zip>
            </address>
            <name>POUIT</name>
         </data>
      </ser:registerForCatalogue>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response"/><con:assertion type="Schema Compliance" name="Schema Compliance"><con:configuration><definition/></con:configuration></con:assertion><con:assertion type="SOAP Fault Assertion" name="Not SOAP Fault"/><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="request" name="envoi aux inscrits"><con:settings/><con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:interface>InternalServiceServiceSoapBinding</con:interface><con:operation>sendCatalogues</con:operation><con:request name="envoi aux inscrits"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>http://localhost:8081/internal/MisterDiscountInternalService</con:endpoint><con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:ser="http://services.integration.groupe.polytech.unice.fr/">
   <soapenv:Header/>
   <soapenv:Body>
      <ser:sendCatalogues/>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request><con:assertion type="SOAP Response"/><con:assertion type="SOAP Fault Assertion"/><con:assertion type="Schema Compliance" name="Schema Compliance"><con:configuration><definition/></con:configuration></con:assertion><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:wsaConfig mustUnderstand="NONE" version="200508"/><con:wsrmConfig version="1.2"/></con:request></con:config></con:testStep><con:testStep type="transfer" name="get nb envois"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" useXQuery="false" entitize="false" transferChildNodes="false"><con:name>nbEnvois</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>envoi aux inscrits</con:sourceStep><con:sourcePath>//number</con:sourcePath><con:targetType>nbEnvois</con:targetType><con:targetStep>#TestCase#</con:targetStep></con:transfers></con:config></con:testStep><con:testStep type="groovy" name="check inscrits = envoi"><con:settings/><con:config><script>def cmd = testRunner.testCase.getPropertyValue("nbCommandes");
def envois  = testRunner.testCase.getPropertyValue("nbEnvois");  
return cmd == envois;</script></con:config></con:testStep><con:properties><con:property><con:name>nbCommandes</con:name><con:value>5</con:value></con:property><con:property><con:name>nbEnvois</con:name><con:value>5</con:value></con:property></con:properties></con:testCase><con:properties/></con:testSuite><con:properties/><con:wssContainer/><con:oAuth2ProfileContainer/><con:sensitiveInformation/></con:soapui-project>